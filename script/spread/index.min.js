(function(){const t=$("#spread-form"),o=$("#spread-link"),d=$("#spread-link-back"),u=new ClipboardJS("#spread-link-button"),s=$("#spread-link-input"),c=t.data("share-url"),l=encodeURIComponent(c),a=$("[data-share-social]");let n,i;t.submit(function(c){c.preventDefault(),n=$("#email").val(),i=$("#name").val(),s.val(r("link")),a.each(function(){const e=$(this);e.attr("href",e.attr("href").replace(l,encodeURIComponent(r(e.data("share-social")))))}),o.show(),t.hide(),e("Submit",n)}),d.click(function(n){n.preventDefault(),o.hide(),t.show(),e("Back")}),s.click(function(){s.select(),e("Share","select")}),u.on("success",function(t){const n=t.trigger;n.innerText="Copied link",setTimeout(function(){n.innerText="Copy link"},2e3),e("Share","copy")}),a.click(function(){e("Share",$(this).data("share-social"))});function r(e){return c+"?r="+encodeURIComponent(btoa(JSON.stringify({email:n,name:i,medium:e})))}function e(e,t){ga("send","event","Spread",e,t)}})()